byte MMUControl@0
byte IOControl@1
byte Vicky.Master.Control@$D000
byte Bitmap0Control@$D100
byte Bitmap0High@$D103
proc io.select()
IOControl=A
	8003 : 85 .
	8004 : 01 .
endproc
	8005 : 60 `
zword .poke.address
byte .fill.data
proc poke()
.poke.address=R
	8006 : 85 .
	8007 : 20 .
	8008 : 86 .
	8009 : 21 !
A=Y
	800a : 98 .
Y=0
	800b : a0 .
	800c : 00 .
.poke.address[Y]=A
	800d : 91 .
	800e : 20 .
endproc
	800f : 60 `
proc set.fill()
.poke.address=R
	8010 : 85 .
	8011 : 20 .
	8012 : 86 .
	8013 : 21 !
.fill.data=Y
	8014 : 8c .
	8015 : 00 .
	8016 : 06 .
endproc
	8017 : 60 `
proc do.fill()
Y=0
	8018 : a0 .
	8019 : 00 .
r.for
	801a : c9 .
	801b : 00 .
	801c : d0 .
	801d : 01 .
	801e : ca .
	801f : 3a :
	8020 : da .
	8021 : 48 H
A=.fill.data
	8022 : ad .
	8023 : 00 .
	8024 : 06 .
.poke.address[Y]=A
	8025 : 91 .
	8026 : 20 .
++.poke.address
	8027 : e6 .
	8028 : 20 .
	8029 : d0 .
	802a : 02 .
	802b : e6 .
	802c : 21 !
next
	802d : 68 h
	802e : fa .
	802f : d0 .
	8030 : 00 .
	8030 : e9 [PATCH]
	8031 : c9 .
	8032 : 00 .
	8033 : d0 .
	8034 : 00 .
	8034 : e5 [PATCH]
endproc
	8035 : 60 `
proc map()
interrupt.off
	8036 : 78 x
CPU->S
	8037 : 48 H
	8038 : da .
	8039 : 5a Z
A=$80
	803a : a9 .
	803b : 80 .
MMUControl=A
	803c : 85 .
	803d : 00 .
S->CPU
	803e : 7a z
	803f : fa .
	8040 : 68 h
R+8
	8041 : 18 .
	8042 : 69 i
	8043 : 08 .
	8044 : 90 .
	8045 : 01 .
	8046 : e8 .
poke()
	8047 : 20 .
	8048 : 06 .
	8049 : 80 .
A=$00
	804a : a9 .
	804b : 00 .
MMUControl=A
	804c : 85 .
	804d : 00 .
interrupt.on
	804e : 58 X
endproc
	804f : 60 `
proc map.into()
a+8
	8050 : 18 .
	8051 : 69 i
	8052 : 08 .
y=a
	8053 : a8 .
map(1)
	8054 : a9 .
	8055 : 01 .
	8056 : a2 .
	8057 : 00 .
	8058 : 20 .
	8059 : 36 6
	805a : 80 .
R=$2000
	805b : a9 .
	805c : 00 .
	805d : a2 .
	805e : 20 .
endproc
	805f : 60 `
proc map.default()
map(1,9)
	8060 : a9 .
	8061 : 01 .
	8062 : a2 .
	8063 : 00 .
	8064 : a0 .
	8065 : 09 .
	8066 : 20 .
	8067 : 36 6
	8068 : 80 .
endproc
	8069 : 60 `
proc clear.bitmap()
.fill.data=A
	806a : 8d .
	806b : 00 .
	806c : 06 .
A=9
	806d : a9 .
	806e : 09 .
a.for
	806f : 3a :
	8070 : 48 H
map.into()
	8071 : 20 .
	8072 : 50 P
	8073 : 80 .
.poke.address=R
	8074 : 85 .
	8075 : 20 .
	8076 : 86 .
	8077 : 21 !
32
	8078 : a9 .
	8079 : 20 .
	807a : a2 .
	807b : 00 .
a.for
	807c : 3a :
	807d : 48 H
A=.fill.data
	807e : ad .
	807f : 00 .
	8080 : 06 .
Y=0
	8081 : a0 .
	8082 : 00 .
repeat
.poke.address[Y]=A
	8083 : 91 .
	8084 : 20 .
++Y
	8085 : c8 .
Y=?
	8086 : c0 .
	8087 : 00 .
until
	8088 : d0 .
	8089 : 00 .
	8089 : f9 [PATCH]
R=.poke.address
	808a : a5 .
	808b : 20 .
	808c : a6 .
	808d : 21 !
R+256
	808e : 18 .
	808f : 69 i
	8090 : 00 .
	8091 : 48 H
	8092 : 8a .
	8093 : 69 i
	8094 : 01 .
	8095 : aa .
	8096 : 68 h
.poke.address=R
	8097 : 85 .
	8098 : 20 .
	8099 : 86 .
	809a : 21 !
next
	809b : 68 h
	809c : d0 .
	809d : 00 .
	809d : de [PATCH]
next
	809e : 68 h
	809f : d0 .
	80a0 : 00 .
	80a0 : ce [PATCH]
map.default()
	80a1 : 20 .
	80a2 : 60 `
	80a3 : 80 .
endproc
	80a4 : 60 `
proc clear.sprites()
io.select(0)
	80a5 : a9 .
	80a6 : 00 .
	80a7 : a2 .
	80a8 : 00 .
	80a9 : 20 .
	80aa : 03 .
	80ab : 80 .
set.fill($D900,$00)
	80ac : a9 .
	80ad : 00 .
	80ae : a2 .
	80af : d9 .
	80b0 : a0 .
	80b1 : 00 .
	80b2 : 20 .
	80b3 : 10 .
	80b4 : 80 .
do.fill($200)
	80b5 : a9 .
	80b6 : 00 .
	80b7 : a2 .
	80b8 : 02 .
	80b9 : 20 .
	80ba : 18 .
	80bb : 80 .
endproc
	80bc : 60 `
proc main()
io.select(0)
	80bd : a9 .
	80be : 00 .
	80bf : a2 .
	80c0 : 00 .
	80c1 : 20 .
	80c2 : 03 .
	80c3 : 80 .
A=$2F
	80c4 : a9 .
	80c5 : 2f /
Vicky.Master.Control=A
	80c6 : 8d .
	80c7 : 00 .
	80c8 : d0 .
A=1
	80c9 : a9 .
	80ca : 01 .
Bitmap0Control=A
	80cb : 8d .
	80cc : 00 .
	80cd : d1 .
A=1
	80ce : a9 .
	80cf : 01 .
Bitmap0High=A
	80d0 : 8d .
	80d1 : 03 .
	80d2 : d1 .
clear.bitmap($00)
	80d3 : a9 .
	80d4 : 00 .
	80d5 : a2 .
	80d6 : 00 .
	80d7 : 20 .
	80d8 : 6a j
	80d9 : 80 .
clear.sprites()
	80da : 20 .
	80db : a5 .
	80dc : 80 .
set.fill($1000,$F0)
	80dd : a9 .
	80de : 00 .
	80df : a2 .
	80e0 : 10 .
	80e1 : a0 .
	80e2 : f0 .
	80e3 : 20 .
	80e4 : 10 .
	80e5 : 80 .
do.fill(1024)
	80e6 : a9 .
	80e7 : 00 .
	80e8 : a2 .
	80e9 : 04 .
	80ea : 20 .
	80eb : 18 .
	80ec : 80 .
io.select(0)
	80ed : a9 .
	80ee : 00 .
	80ef : a2 .
	80f0 : 00 .
	80f1 : 20 .
	80f2 : 03 .
	80f3 : 80 .
poke($D900,1)
	80f4 : a9 .
	80f5 : 00 .
	80f6 : a2 .
	80f7 : d9 .
	80f8 : a0 .
	80f9 : 01 .
	80fa : 20 .
	80fb : 06 .
	80fc : 80 .
poke($D901,0)
	80fd : a9 .
	80fe : 01 .
	80ff : a2 .
	8100 : d9 .
	8101 : a0 .
	8102 : 00 .
	8103 : 20 .
	8104 : 06 .
	8105 : 80 .
poke($D902,$10)
	8106 : a9 .
	8107 : 02 .
	8108 : a2 .
	8109 : d9 .
	810a : a0 .
	810b : 10 .
	810c : 20 .
	810d : 06 .
	810e : 80 .
poke($D903,0)
	810f : a9 .
	8110 : 03 .
	8111 : a2 .
	8112 : d9 .
	8113 : a0 .
	8114 : 00 .
	8115 : 20 .
	8116 : 06 .
	8117 : 80 .
poke($D904,128)
	8118 : a9 .
	8119 : 04 .
	811a : a2 .
	811b : d9 .
	811c : a0 .
	811d : 80 .
	811e : 20 .
	811f : 06 .
	8120 : 80 .
poke($D905,0)
	8121 : a9 .
	8122 : 05 .
	8123 : a2 .
	8124 : d9 .
	8125 : a0 .
	8126 : 00 .
	8127 : 20 .
	8128 : 06 .
	8129 : 80 .
poke($D906,64)
	812a : a9 .
	812b : 06 .
	812c : a2 .
	812d : d9 .
	812e : a0 .
	812f : 40 @
	8130 : 20 .
	8131 : 06 .
	8132 : 80 .
poke($D907,0)
	8133 : a9 .
	8134 : 07 .
	8135 : a2 .
	8136 : d9 .
	8137 : a0 .
	8138 : 00 .
	8139 : 20 .
	813a : 06 .
	813b : 80 .
poke($D910,0)
	813c : a9 .
	813d : 10 .
	813e : a2 .
	813f : d9 .
	8140 : a0 .
	8141 : 00 .
	8142 : 20 .
	8143 : 06 .
	8144 : 80 .
poke($D908,1)
	8145 : a9 .
	8146 : 08 .
	8147 : a2 .
	8148 : d9 .
	8149 : a0 .
	814a : 01 .
	814b : 20 .
	814c : 06 .
	814d : 80 .
poke($D909,0)
	814e : a9 .
	814f : 09 .
	8150 : a2 .
	8151 : d9 .
	8152 : a0 .
	8153 : 00 .
	8154 : 20 .
	8155 : 06 .
	8156 : 80 .
poke($D90A,$10)
	8157 : a9 .
	8158 : 0a .
	8159 : a2 .
	815a : d9 .
	815b : a0 .
	815c : 10 .
	815d : 20 .
	815e : 06 .
	815f : 80 .
poke($D90B,0)
	8160 : a9 .
	8161 : 0b .
	8162 : a2 .
	8163 : d9 .
	8164 : a0 .
	8165 : 00 .
	8166 : 20 .
	8167 : 06 .
	8168 : 80 .
poke($D90C,128)
	8169 : a9 .
	816a : 0c .
	816b : a2 .
	816c : d9 .
	816d : a0 .
	816e : 80 .
	816f : 20 .
	8170 : 06 .
	8171 : 80 .
poke($D90D,0)
	8172 : a9 .
	8173 : 0d .
	8174 : a2 .
	8175 : d9 .
	8176 : a0 .
	8177 : 00 .
	8178 : 20 .
	8179 : 06 .
	817a : 80 .
poke($D90E,128)
	817b : a9 .
	817c : 0e .
	817d : a2 .
	817e : d9 .
	817f : a0 .
	8180 : 80 .
	8181 : 20 .
	8182 : 06 .
	8183 : 80 .
poke($D90F,0)
	8184 : a9 .
	8185 : 0f .
	8186 : a2 .
	8187 : d9 .
	8188 : a0 .
	8189 : 00 .
	818a : 20 .
	818b : 06 .
	818c : 80 .
halt
	818d : 80 .
	818e : fe .
endproc
	818f : 60 `
